<html>

<head>
    <title>Services Monitoring</title>
    </style>
</head>

<body>
    <p><textarea rows="5" cols="35" id="service0"></textarea></p>
    <p><textarea rows="5" cols="35" id="service1"></textarea></p>
    <p><textarea rows="5" cols="35" id="service2"></textarea></p>
</body>
<script>
    window.addEventListener('load', callMethods, false);

    function callMethods() {
        for (var i = 0; i < 3; i++) {
            console.log(i);
            callService(i);
        }
    };
    function callService(id) {
        var url = "https://localhost:44339/api/values/GetStatus?serviceId=" + id;
        var method = 'GET';
        var shouldBeAsync = true;
        var oXHR = new XMLHttpRequest();

        function append() {
            document.getElementById('service' + id).value = oXHR.responseText;
        }

        oXHR.onreadystatechange = append;
        oXHR.open(method, url, shouldBeAsync);
        oXHR.setRequestHeader("Content-Type", "application/json");
        oXHR.send();
    }   
</script>

</html>