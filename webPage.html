<html>

<head>
    <title>Services Monitoring</title>
    </style>
</head>

<body>
    <table style="width: 400px; margin: auto">
        <tbody>
            <tr>
                <td style="text-align:center"><textarea rows="5" cols="35" id="service0"></textarea>
                </td>
                <td style="text-align:center"><textarea rows="5" cols="35" id="service1"></textarea>
                </td>
                <td style="text-align:center"><textarea rows="5" cols="35" id="service2"></textarea>
                </td>
            </tr>
        </tbody>
    </table>
</body>
<script>
    window.addEventListener('load', callMethods, false);

    function callMethods() {
        for (var i = 0; i < 3; i++) {
            console.log(i);
            callService(i);
        }
    };
    function callService(id) {
        var url = "https://localhost:44339/api/values/GetStatus?serviceId=" + id;
        var method = 'GET';
        var shouldBeAsync = true;
        var oXHR = new XMLHttpRequest();

        function append() {
            document.getElementById('service' + id).value = oXHR.responseText;
        }

        oXHR.onreadystatechange = append;
        oXHR.open(method, url, shouldBeAsync);
        oXHR.setRequestHeader("Content-Type", "application/json");
        oXHR.send();
    }   
</script>

</html>